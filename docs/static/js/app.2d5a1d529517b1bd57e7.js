webpackJsonp([1],{"5B+S":function(t,e){},LeVu:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),a=s("/ocq"),r=s("NYxO");n.a.use(r.a),n.a.use(a.a);var i=s("Dd8w"),o=s.n(i),u=s("bOdI"),c=s.n(u),d=s("mtWM"),l=s.n(d);l.a.defaults.headers.post["Content-Type"]="application/json";var h="888",f="http://production.953caigbma.eu-west-1.elasticbeanstalk.com/api/v1";var m,v,p={fetchGame:function(){return l()({method:"post",url:f+"/games/new",data:{user_id:h}}).then(function(t){return e=t.data,s=["גבולות אישיים","חשל״ש","גופים והתמצאות באירוע","עשרת העקרונות","מדריך הישרדות"],e.categories.forEach(function(t,e){t.hebName=s[e]}),{game:{token:e.token,user_id:e.user_id},questions:e.categories};var e,s}).catch(function(t){console.error("error",t)})},sendAnswer:function(t,e){return l()({method:"post",url:f+"/games/"+e+"/answer",data:t}).then(function(t){return t.data}).catch(function(t){console.error("error",t)})}},g=new r.a.Store({state:{game:null,questions:null,currQuest:null,catIdx:0,questIdx:0,currCat:null},getters:(m={},c()(m,"/getGame",function(t){return t.game}),c()(m,"/getCurrQuest",function(t){return t.currQuest}),c()(m,"/getCurrCat",function(t){return t.currCat}),m),mutations:(v={},c()(v,"/setGame",function(t,e){var s=e.game;t.game=s}),c()(v,"/setQuestions",function(t,e){var s=e.questions;t.questions=s}),c()(v,"/setQuest",function(t,e){var s=e.nextCat;if(t.catIdx===t.questions.length-1&&(s||4===t.questIdx)){var n=t.questions.filter(function(t){return!1===t.category_completed});return t.questions=n,t.questIdx=0,t.catIdx=0,t.currCat=t.questions[t.catIdx].hebName,void(t.currQuest=t.questions[t.catIdx].questions[t.questIdx])}4===t.questIdx||s?(s&&(t.questions[t.catIdx].category_completed=!0),t.questIdx=0,t.catIdx+=1):t.questIdx+=1,t.currCat=t.questions[t.catIdx].hebName,t.currQuest=t.questions[t.catIdx].questions[t.questIdx]}),v),actions:c()({},"/loadGame",function(t){var e=t.commit;p.fetchGame().then(function(t){e(o()({type:"/setGame"},t)),e(o()({type:"/setQuestions"},t)),e({type:"/setQuest"})}).catch(function(t){throw e("/setGame",[]),t})}),strict:!0}),w={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-container"},[e("div",{staticClass:"header"},[e("div",{staticClass:"links"},[e("a",{attrs:{href:"https://www.facebook.com/midburns/",target:"_blank"}},[e("i",{staticClass:"fab fa-facebook-square"})]),this._v(" "),e("a",{attrs:{href:"http://midburn.org/he-survival-guide/",target:"_blank"}},[e("i",{staticClass:"fab fa-studiovinari"})])]),this._v(" "),e("h1",{staticClass:"title"},[this._v("מידברן - שאלון ההישרדות")]),this._v(" "),e("img",{staticClass:"logo",attrs:{src:"/static/img/logo.png"}})])])}]};var _={name:"App",created:function(){this.$store.dispatch({type:"/loadGame"})},components:{ManuBar:s("VU/8")({data:function(){return{}}},w,!1,function(t){s("yQ50")},"data-v-2eedbe50",null).exports}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("manu-bar"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var q=s("VU/8")(_,C,!1,function(t){s("5B+S")},null,null).exports,b=s("mvHQ"),x=s.n(b),y={data:function(){return{showOrder:[{show:!1},{show:!1},{show:!1}]}},created:function(){this.showOrder.forEach(function(t,e){setTimeout(function(){t.show=!0},1e3*e*3)}),new Audio("/static/audio/youwin.wav").play()}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-container"},[s("div",{staticClass:"slides"},[s("transition",{attrs:{name:"slide-fade"}},[t.showOrder[0].show?s("h1",[t._v("ווואו ביצוע מרשים!!! ברנר אמיתי אתה")]):t._e()]),t._v(" "),s("transition",{attrs:{name:"slide-fade"}},[t.showOrder[1].show?s("div",{staticClass:"guide"},[s("h1",[t._v("ממליצים לך להתמקצע עוד במדריך ההישרדות")]),t._v(" "),s("a",{attrs:{href:"http://midburn.org/he-survival-guide/",target:"_blank"}},[s("i",{staticClass:"fab fa-studiovinari bounce"})])]):t._e()]),t._v(" "),s("transition",{attrs:{name:"slide-fade"}},[t.showOrder[2].show?s("h1",[t._v("או ללייקלק אותנו ולהישאר מעודכנים")]):t._e()])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showOrder[2].show,expression:"showOrder[2].show"}],staticClass:"fb-like",attrs:{"data-href":"https://www.facebook.com/midburns/","data-layout":"button","data-action":"like","data-size":"large","data-show-faces":"true","data-share":"false"}})])},staticRenderFns:[]};var I={data:function(){return{categories:[{value:"גבולות אישיים",completed:!1},{value:"חשל״ש",completed:!1},{value:"גופים והתמצאות באירוע",completed:!1},{value:"עשרת העקרונות",completed:!1},{value:"מדריך הישרדות",completed:!1}],incheck:!1,playrWin:!1,sound:null}},created:function(){this.sound=new Audio("/static/audio/backgroundmusic.mp3"),this.sound.play()},methods:{checkAnswer:function(t){var e=this;if(!this.incheck){this.incheck=!0;var s={question_id:this.question.id,answer_ids:[t.toString()]},n=x()(s);p.sendAnswer(n,this.token).then(function(t){if(t.game_completed)return e.sound.pause(),void(e.playrWin=!0);t.response?(new Audio("/static/audio/correct.m4a").play(),e.getNextQuest(t)):(new Audio("/static/audio/worng.wav").play(),e.showRightAnswer(t))}).catch(function(t){throw t})}},showRightAnswer:function(t){var e=this,s=t.correct_answers[0].id;this.$refs.answer.forEach(function(t){t.value===s&&t.classList.add("right-answer"),setTimeout(function(){t.classList.remove("right-answer")},1300)}),setTimeout(function(){e.getNextQuest(t)},1e3)},getNextQuest:function(t){var e=this,s=t.category_completed;s&&this.isCompleted(t),setTimeout(function(){e.$store.commit({type:"/setQuest",nextCat:s}),e.incheck=!1},500)},isCompleted:function(){var t=this;this.categories.forEach(function(e){e.value===t.currCat&&(e.completed=!0)})}},computed:{question:function(){return this.$store.getters["/getCurrQuest"]},token:function(){return this.$store.getters["/getGame"].token},currCat:function(){return this.$store.getters["/getCurrCat"]}},watch:{currCat:function(){return this.$store.getters["/getCurrCat"]},question:function(){return this.$store.getters["/getCurrQuest"]}},components:{GameOver:s("VU/8")(y,k,!1,function(t){s("qFHK")},"data-v-326a1ced",null).exports}},Q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",[t.playrWin?t._e():s("div",{staticClass:"questions-body"},[t.question?s("div",{staticClass:"quest-container"},[s("p",{key:"quest",staticClass:"qust-body"},[t._v(t._s(t.question.body))]),t._v(" "),s("transition-group",{attrs:{name:"list"}},t._l(t.question.answers,function(e,n){return s("li",{key:n,ref:"answer",refInFor:!0,staticClass:"answer",attrs:{value:e.id},on:{click:function(s){t.checkAnswer(e.id)}}},[t._v(t._s(e.body))])})),t._v(" "),s("div",{staticClass:"categories"},t._l(t.categories,function(e){return s("h1",{key:e.value,class:{"cat-completed":e.completed}},[t._v(t._s(e.value)+" \n            "),s("i",{staticClass:"fas fa-thumbs-up",class:{completed:e.completed}})])}))],1):t._e()]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.playrWin?s("game-over"):t._e()],1)],1)])},staticRenderFns:[]};var $=s("VU/8")(I,Q,!1,function(t){s("LeVu")},"data-v-a2c57636",null).exports,A={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade"}},[e("div",{staticClass:"container"},[e("p",{staticClass:"desc"},[this._v("ברוכים הבאים למשחק הטריוויה שיתן מענה לשאלה שמעסיקה את כולם: האם אתם ברנרים אמיתיים?\n      איך מנצחים? פשוט:עליכם לעבור 5 נושאים שקשורים למידברן, \n      ובכל אחד לענות נכון על 2 שאלות בהצלחה!\n      ")]),this._v(" "),e("router-link",{staticClass:"btn",attrs:{to:"/thequiz"}},[this._v("צאו לדרך")])],1)])},staticRenderFns:[]};var E=s("VU/8")({data:function(){return{}},components:{}},A,!1,function(t){s("ji4E")},"data-v-73a144d8",null).exports;n.a.use(a.a);var G=new a.a({routes:[{path:"/",name:"WelcomePage",component:E},{path:"/TheQuiz",name:"GamePage",component:$}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:G,store:g,components:{App:q},template:"<App/>"})},ji4E:function(t,e){},qFHK:function(t,e){},yQ50:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2d5a1d529517b1bd57e7.js.map